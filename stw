#!/usr/bin/env bash

PROJECT_PATH="$HOME/projects/riot"

function startOne() {
    CONTAINER_ID=$(docker create -p 8080:8080 registry.greenwavereality.com/axon/axon-riot-one:1.3.0-SNAPSHOT)
    docker start $CONTAINER_ID
    docker attach $CONTAINER_ID
    docker rm $CONTAINER_ID
}

function startCloud() {
    CONTAINER_ID=$(docker create -p 8080:8080 registry.greenwavereality.com/axon/axon-riot-cloud:2.0.0-SNAPSHOT)
    docker start $CONTAINER_ID
    docker attach $CONTAINER_ID
    docker rm $CONTAINER_ID
}

function startUI() {
    cd "$PROJECT_PATH/riot-ui";
    npm run $2;
}

case "$1" in
    "one") startOne $*;;
    "ui") startUI $*;;
    "cloud") startCloud $*;;
    *)echo "Unknown command";;
esac
